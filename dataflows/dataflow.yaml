nodes:
  - id: pc
    _unstable_deploy:
      machine: pc
    build: cargo build -p pc --release
    path: ../../target/release/pc
    inputs:
      status: translater/status
      shutdown: translater/shutdown
      imu_data: rpi/imu_data
    outputs:
      - command

  - id: rpi
    _unstable_deploy:
      machine: rpi
    build: cargo build -p rpi --target=aarch64-unknown-linux-gnu --release
    path: /home/taka/Quadken/sftp/rpi
    inputs:
      command: pc/command
      shutdown: translater/shutdown
    outputs:
      - imu_data

  - id: translater
    _unstable_deploy:
      machine: pc
    build: cargo build -p translater --release
    path: ../../target/release/translater
    inputs:
      tick: dora/timer/millis/100
    outputs:
      - status
      - shutdown
