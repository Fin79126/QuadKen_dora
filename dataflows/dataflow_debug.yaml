nodes:
  - id: pc
    # _unstable_deploy:
    #   machine: pc
    build: cargo build -p pc
    path: ../target/debug/pc
    inputs:
      status: translater/status
      shutdown: translater/shutdown
      imu_data: rpi/imu_data
    outputs:
      - command
      - imu_rerun
    
  - id: rpi
    # _unstable_deploy:
    #   machine: rpi
    build: cargo build -p rpi 
    path: ../target/debug/rpi
    env:
      DEBUG: true
    inputs:
      command: pc/command
      shutdown: translater/shutdown
    outputs:
      - imu_data

  - id: translater
    # _unstable_deploy:
    #   machine: pc
    build: cargo build -p translater
    path: ../target/debug/translater
    inputs:
      tick: dora/timer/millis/100
    outputs:
      - status
      - shutdown

  - id: dora-rerun
    # build: cargo build -p dora-rerun
    path: ../target/debug/dora-rerun
    env:
      "OPERATING_MODE": "SAVE"
    inputs:
      imu_rerun: pc/imu_rerun
